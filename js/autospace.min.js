!function(window,$){var unicode=[];init=function(){$("html").hasClass("han-la")&&$("body").each(function(){var hanzi=unicode_set("hanzi"),latin=unicode_set("latin")+"|"+unicode.punc[0],punc=unicode.punc;patterns=["/("+hanzi+")("+latin+"|"+punc[1]+")/ig","/("+latin+"|"+punc[2]+")("+hanzi+")/ig"],patterns.forEach(function(exp){findAndReplaceDOMText(this,{find:eval(exp),replace:"$1<hanla>$2"})},this),findAndReplaceDOMText(this,{find:"<hanla>",replace:function(){return document.createElement("hanla")}}),this.normalize(),$("* > hanla:first-child").parent().each(function(){1==this.firstChild.nodeType&&($(this).before($("<hanla/>")),$(this).find("hanla:first-child").remove())})})},unicode_set=function(e){var n=e.match(/[hanzi|latin]/)?!0:!1,t=n?unicode[e].join("|"):unicode[e];return t},findAndReplaceDOMText=function(e,n){var n=n;return n.filterElements=function(e){var n=e.nodeName.toLowerCase(),t=1==e.nodeType?e.getAttribute("class"):"",i=t&&null!=t.match(/han-js-charized/)?!0:!1;return"style"!==n&&"script"!==n&&!i},window.findAndReplaceDOMText(e,n)},unicode.latin=["[A-Za-z0-9À-ÿĀ-ſƀ-ɏḀ-ỿ]"],unicode.punc=["[@&=_,.?!$%^*-+/]","[(\\['\"<‘“]","[)\\]'\">”’]"],unicode.hanzi=["[一-鿿]","[㐀-䶵龦-龻並-龎龼-鿃〇぀-ゞァ-ヺヽヾ﨎-﨏﨑﨓-﨔﨟﨡﨣-﨤﨧-﨩]","[�-�][�-�]|�[�-�]","�[�-�]|[�-�][�-�]|�[�-�]","�[�-�]|�[�-�]","[㇀-㇣]"],unicode.biaodian=["[·・︰、，。：；？！—ー⋯…．·／]","[「『（〔【《〈“‘]","[」』）〕】》〉’”]"],unicode.zhuyin=[],unicode.zhuyin[0]="[ㄅ-ㄭㆠ-ㆺ]",unicode.zhuyin.shengmu="[ㄅ-ㄙㄪ-ㄬㆠ-ㆣ]",unicode.zhuyin.jieyin="[ㄧ-ㄩ]",unicode.zhuyin.yunmu="[ㄚ-ㄦㄭㆤ-ㆳㆸ-ㆺ]",unicode.zhuyin.yunjiao="[ㆴ-ㆷ]",unicode.zhuyin.diao="[˙ˊ˅ˇˋ˪˫]",$(document).on("ready",function(){init()})}(window,window.jQuery,void 0),window.findAndReplaceDOMText=function(){function e(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function n(){return t.apply(null,arguments)||i.apply(null,arguments)}function t(e,t,r,d,a){if(t&&!t.nodeType&&arguments.length<=2)return!1;var o="function"==typeof r;o&&(r=function(e){return function(n,t){return e(n.text,t.startIndex)}}(r));var s=i(t,{find:e,wrap:o?null:r,replace:o?r:"$"+(d||"&"),prepMatch:function(e,n){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(d>0){var t=e[d];e.index+=e[0].indexOf(t),e[0]=t}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=n,e},filterElements:a});return n.revert=function(){return s.revert()},!0}function i(e,n){return new r(e,n)}function r(e,n){n.portionMode=n.portionMode||d,this.node=e,this.options=n,this.prepMatch=n.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}var d="retain",a="first",o=document;({}).toString;return n.Finder=r,r.prototype={search:function(){var n,t=0,i=this.options.find,r=this.getAggregateText(),d=[];if(i="string"==typeof i?RegExp(e(i),"g"):i,i.global)for(;n=i.exec(r);)d.push(this.prepMatch(n,t++));else(n=r.match(i))&&d.push(this.prepMatch(n,0));return d},prepMatch:function(e,n){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=n,e},getAggregateText:function(){function e(t){if(3===t.nodeType)return t.data;if(n&&!n(t))return"";var i="";if(t=t.firstChild)do i+=e(t);while(t=t.nextSibling);return i}var n=this.options.filterElements;return e(this.node)},processMatches:function(){var e,n,t,i=this.matches,r=this.node,d=this.options.filterElements,a=[],o=r,s=i.shift(),c=0,h=0,u=0;e:for(;;){if(3===o.nodeType&&(!n&&o.length+c>=s.endIndex?n={node:o,index:u++,text:o.data.substring(s.startIndex-c,s.endIndex-c),indexInMatch:c-s.startIndex,indexInNode:s.startIndex-c,endIndexInNode:s.endIndex-c,isEnd:!0}:e&&a.push({node:o,index:u++,text:o.data,indexInMatch:c-s.startIndex,indexInNode:0}),!e&&o.length+c>s.startIndex&&(e={node:o,index:u++,indexInMatch:0,indexInNode:s.startIndex-c,endIndexInNode:s.endIndex-c,text:o.data.substring(s.startIndex-c,s.endIndex-c)}),c+=o.data.length),t=1===o.nodeType&&d&&!d(o),e&&n){if(o=this.replaceMatch(s,e,a,n),c-=n.node.data.length-n.endIndexInNode,e=null,n=null,a=[],s=i.shift(),u=0,h++,!s)break}else if(!t&&(o.firstChild||o.nextSibling)){o=o.firstChild||o.nextSibling;continue}for(;;){if(o.nextSibling){o=o.nextSibling;break}if(o.parentNode===r)break e;o=o.parentNode}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(e,n,t,i){var r=this.options.portionMode;return r===a&&n.indexInMatch>0?"":(e=e.replace(/\$(\d+|&|`|')/g,function(e,n){var i;switch(n){case"&":i=t[0];break;case"`":i=t.input.substring(0,t.startIndex);break;case"'":i=t.input.substring(t.endIndex);break;default:i=t[+n]}return i}),r===a?e:n.isEnd?e.substring(n.indexInMatch):e.substring(n.indexInMatch,n.indexInMatch+n.text.length))},getPortionReplacementNode:function(e,n,t){var i=this.options.replace||"$&",r=this.options.wrap;if(r&&r.nodeType){var d=o.createElement("div");d.innerHTML=r.outerHTML||(new XMLSerializer).serializeToString(r),r=d.firstChild}if("function"==typeof i)return i=i(e,n,t),i&&i.nodeType?i:o.createTextNode(String(i));var a="string"==typeof r?o.createElement(r):r;return i=o.createTextNode(this.prepareReplacementString(i,e,n,t)),a?(a.appendChild(i),a):i},replaceMatch:function(e,n,t,i){var r,d,a=n.node,s=i.node;if(a===s){var c=a;n.indexInNode>0&&(r=o.createTextNode(c.data.substring(0,n.indexInNode)),c.parentNode.insertBefore(r,c));var h=this.getPortionReplacementNode(i,e);return c.parentNode.insertBefore(h,c),i.endIndexInNode<c.length&&(d=o.createTextNode(c.data.substring(i.endIndexInNode)),c.parentNode.insertBefore(d,c)),c.parentNode.removeChild(c),this.reverts.push(function(){r===h.previousSibling&&r.parentNode.removeChild(r),d===h.nextSibling&&d.parentNode.removeChild(d),h.parentNode.replaceChild(c,h)}),h}r=o.createTextNode(a.data.substring(0,n.indexInNode)),d=o.createTextNode(s.data.substring(i.endIndexInNode));for(var u=this.getPortionReplacementNode(n,e),p=[],l=0,f=t.length;f>l;++l){var x=t[l],g=this.getPortionReplacementNode(x,e);x.node.parentNode.replaceChild(g,x.node),this.reverts.push(function(e,n){return function(){n.parentNode.replaceChild(e.node,n)}}(x,g)),p.push(g)}var v=this.getPortionReplacementNode(i,e);return a.parentNode.insertBefore(r,a),a.parentNode.insertBefore(u,a),a.parentNode.removeChild(a),s.parentNode.insertBefore(v,s),s.parentNode.insertBefore(d,s),s.parentNode.removeChild(s),this.reverts.push(function(){r.parentNode.removeChild(r),u.parentNode.replaceChild(a,u),d.parentNode.removeChild(d),v.parentNode.replaceChild(s,v)}),v}},n}();